@import 'config';

// Pull in the stalfos lib
@import '../../node_modules/stalfos/stalfos.scss';

@import 'theme';

// Local dependencies
@import 'typography';

/**
 * GLOBAL STYLES 
 */

.night {
  -webkit-font-smoothing: antialiased;
  --color-mint: hsl(316, 30%, 36%);
  --color-highlight: hsl(240, 33%, 77%);
  --color-lilac: hsl(263, 29%, 32%);
  --color-peach: hsl(316, 30%, 36%);
  --color-sherbet: hsl(257, 8%, 18%);
  --color-sherbet-fade: hsl(260, 24%, 18%);
  --color-marshmellow: hsl(314, 22%, 42%);
  --color-light: hsl(274, 4%, 15%);
  --color-light-fade: hsl(274, 4%, 16%);
  --color-light-down: hsl(274, 4%, 16%);
  --color-light-down-2: hsl(274, 4%, 18%);
  --color-light-down-3: hsl(274, 4%, 20%);
  --color-mid: hsl(0, 0%, 80%);
  --color-dark: hsl(0, 0%, 98%);
  --color-dark-opacity: hsla(0, 0%, 98%, 0.3);
  --color-dark-down: hsl(0, 0%, 98%);
  --color-mint-selection: rgba(119, 64, 105, 0.9);
  --color-lilac-selection: rgba(76, 58, 105, 0.9);
  --color-light-selection: rgba(38, 37, 40, 0.99);
  --color-dark-selection: rgba(250, 250, 250, 0.99);
}

.day {
  --color-mint: hsl(164, 61%, 65%);
  --color-mint-up: hsl(148, 35%, 74%);
  --color-mint-down: hsl(163, 36%, 51%);
  --color-lilac: hsl(264, 51%, 71%);
  --color-sea: hsl(189, 58%, 65%);
  --color-highlight: hsl(264, 51%, 71%);
  --color-lilac-up: hsl(240, 33%, 77%);
  --color-sherbet: hsl(55, 97%, 85%);
  --color-sherbet-fade: hsl(55, 100%, 94%);
  --color-rose: hsl(344, 56%, 69%);
  --color-marshmellow: hsl(329, 44%, 71%);
  --color-peach: hsl(4, 65%, 85%);
  --color-biscuit: hsl(26, 18%, 61%);
  --color-oat: hsl(17, 12%, 77%);
  --color-light: hsl(0, 0%, 97%);
  --color-light-fade: hsl(300, 11%, 96%);
  --color-light-down: hsl(210, 4%, 98%);
  --color-light-down-2: hsl(210, 4%, 96%);
  --color-light-down-3: hsl(210, 4%, 93%);
  --color-mid: hsl(0, 0%, 80%);
  --color-dark: hsl(0, 0%, 25%);
  --color-dark-opacity: hsla(0, 0%, 25%, 0.3);
  --color-dark-down: hsl(237, 18%, 23%);
  --color-mint-selection: rgba(111, 220, 191, 0.9);
  --color-lilac-selection: rgba(173, 143, 219, 0.9);
  --color-light-selection: rgba(247, 247, 247, 0.99);
  --color-dark-selection: rgba(64, 64, 64, 0.99);
}

pre {
  --color-mint: hsl(164, 61%, 65%);
  --color-lilac: hsl(264, 51%, 71%);
  --color-sea: hsl(189, 58%, 65%);
  --color-sherbet: hsl(55, 97%, 85%);
  --color-rose: hsl(344, 56%, 69%);
  --color-marshmellow: hsl(329, 44%, 71%);
  --color-peach: hsl(4, 65%, 85%);
  --color-light: hsl(0, 0%, 97%);
  --color-dark-down: hsl(237, 18%, 23%);
}

html {
  color: var(--color-dark);
}

body {
  position: relative;
  scroll-behavior: smooth;
  color: var(--color-dark);
  --color-selection: var(--color-mint);
  --color-selection-bg: var(--color-light-selection);
  background-color: var(--color-light);
}

*::-webkit-scrollbar {
  width: 11px;
}
* {
  scrollbar-width: auto;
  scrollbar-color: var(--color-mint) var(--color-sherbet-fade);
}
*::-webkit-scrollbar-track {
  background: var(--color-sherbet-fade);
}
*::-webkit-scrollbar-thumb {
  background-color: var(--color-mint);
  border-radius: 6px;
  border: 0px;
}

main {
  overflow: hidden;
}

.main-content {
  position: relative;
  z-index: 1;
}

.slide-out {
  position: sticky;
  bottom: 0;
  left: 0;
  width: 100%;
}

.speaking {
  --color-selection: var(--color-peach);
  --color-selection-bg: var(--color-dark-selection);
}

.speaking .Speaking__image {
  min-width: 50%;
  max-width: 600px;
  height: 400px;
}

.speaking .Speaking__talks {
  margin-top: 5rem;
}

.speaking {
  background-color: var(--color-sherbet);
}

// .subpage {
//   min-height: 100vh;
// }

// .writing .subpage {
//   --background: var(--color-sherbet);
// }

.night .logo {
  --color-mint: hsl(240, 33%, 77%);
  --color-highlight: hsl(316, 30%, 36%);
}

::-moz-selection {
  /* Code for Firefox */
  color: var(--color-selection);
  background-color: var(--color-selection-bg);
}

::selection {
  color: var(--color-selection);
  background-color: var(--color-selection-bg);
}

.night ::selection {
  color: var(--color-selection);
  background-color: var(--color-selection-bg);
}

.outline::selection {
  color: var(--color-selection);
  -webkit-text-fill-color: transparent; /* Will override color (regardless of order) */
  -webkit-text-stroke-width: 1.5px;
  -webkit-text-stroke-color: var(--color-selection);
}

.posts {
  --color-selection: var(--color-dark);
  --color-selection-bg: var(--color-mint-selection);
}

.logo {
  width: 8rem;
  visibility: hidden;
  overflow: visible;
}

main:focus {
  outline: none;
}

hr {
  display: block;
  height: 2px;
  width: 100%;
  background: var(--color-mint);
  border: none;
  opacity: 1;
  margin: get-size(700) auto;
}

a:not([class]) {
  position: relative;
  display: inline;
  padding: 0.1rem 0.2rem 4px 0.1rem;
  white-space: pre;
  text-decoration: none;
  z-index: 1;
  font-weight: bold;
  line-height: 1;
  background: none;
  white-space: no-wrap;
  color: inherit;

  &:before,
  &:after {
    content: '';
    position: absolute;
    background-color: var(--color-lilac-no-swop);
    height: 3px;
    width: 100%;
    left: 0;
    bottom: 0;
  }

  &:after {
    transform-origin: center right;
    transition: all cubic-bezier(0.39, 0.575, 0.565, 1) 0.8s;
  }

  &:before {
    transform-origin: center left;
    transform: scaleX(0);
    transition: transform cubic-bezier(0.39, 0.575, 0.565, 1) 0.6s;
  }

  &:hover:after {
    transform: scaleX(0);
    transition: transform cubic-bezier(0.39, 0.575, 0.565, 1) 0.3s;
  }

  &:hover:before {
    transform: scaleX(1);
  }
}

.underline__text {
  line-height: 1;
  display: inline;
  background-image: linear-gradient(
    transparent 50%,
    var(--underline) 50%,
    var(--underline) 85%,
    transparent 85%,
    transparent 100%
  );
  background-repeat: no-repeat;
  background-size: 0% 100%;
}

.underline:hover .underline__text {
  transition: 0.5s cubic-bezier(0.645, 0.045, 0.355, 1);
  background-size: 100% 100%;
}

a.arrow {
  position: relative;
  padding-right: 1.25rem;
  text-decoration: none;
  @include apply-utility('font', 'sans-serif');
  letter-spacing: 0.05rem;

  &::after {
    content: '';
    line-height: 1.2;
    position: absolute;
    height: 100%;
    width: 1rem;
    background-repeat: no-repeat;
    top: 0%;
    right: 0;
    background-position: 0% 50%;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 10' aria-hidden='true'%3E%3Cpath fill='%23404040' d='M1 4h11.59l-2.3-2.29A1 1 0 0111.71.29l4 4a1 1 0 010 1.41l-4 4a1 1 0 01-1.41-1.41L12.59 6H1a1 1 0 010-2z'/%3E%3C/svg%3E");
    transition: transform ease-out 0.2s;
  }

  &:hover::after {
    transform: translateX(0.3rem);
  }
}

.night a.arrow {
  &::after {
    filter: invert(1);
  }
}

.button {
  display: inline-block;
  position: relative;
  padding: 0.5rem 1.25rem;
  background-color: var(--color-dark);
  color: var(--color-dark);
  @include apply-utility('font', 'sans-serif');
  font-weight: 600;
  text-decoration: none;
  letter-spacing: 0.02em;

  &:after {
    position: absolute;
    content: attr(data-content);
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    background-color: var(--color-light);
    color: var(--color-dark);
    border: solid 2px var(--color-dark);
    display: flex;
    align-items: center;
    justify-content: center;
    transform: translate(-0.3rem, -0.3rem);
    transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  &:hover:after {
    transform: translate(0, 0);
  }
}

.night .button {
  &:after {
    background-color: var(--color-lilac);
  }
}

.videos {
  margin: 0 1rem;
  max-width: 500px;
  > * + * {
    margin-top: 1rem;
  }
}

@include media-query('md') {
  .videos {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    grid-gap: 2rem;
    margin: 0 1rem;
    > * + * {
      margin-top: 0;
    }
  }
}

// @media screen and (min-width: 800px) {
//   .subpage {
//     position: relative;

//     &:after {
//       content: '';
//       position: absolute;
//       width: 68%;
//       height: 100%;
//       top: 0;
//       right: 0;
//       bottom: 0;
//       background-color: var(--color-mint);
//       background-color: var(--background);
//       z-index: -3;
//     }
//   }
// }
/**
 * PROJECT IMPORTS
 */

// Utils
@import 'utilities/visually-hidden';
@import 'utilities/wrappers';
@import 'utilities/grid';
@import 'utilities/layout';

// Components
@import 'components/heading-permalink';
@import 'components/intro';

@import 'components/post';
@import 'components/post-list';
@import 'components/workshop';

@import 'components/syntax-highlighting';
@import 'components/video-player';

//Mine
@import 'components/skip-link';
@import 'components/site-head';
@import 'components/nav';
@import 'components/toggle';
@import 'components/illustration';
@import 'components/hero';
@import 'components/posts-intro';
@import 'components/browser';
@import 'components/speaking';
@import 'components/card';
@import 'components/contact';
@import 'components/featured';
@import 'components/events';
